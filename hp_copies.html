<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hopy Pay: Otimize sua Jornada do Cliente</title>
    <!-- Inclui o Tailwind CSS via CDN para estilos r√°pidos e responsivos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .funnel-segment {
            transition: all 0.3s ease-in-out;
        }
        .funnel-segment:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .funnel-arrow {
            position: relative;
            height: 3rem; /* Altura da seta */
            width: 100%;
        }
        .funnel-arrow::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            width: 2px; /* Espessura da linha da seta */
            height: 100%;
            background-color: #4B5563; /* Cor da linha da seta */
            transform: translateX(-50%);
        }
        .funnel-arrow::before {
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid #4B5563; /* Cor da ponta da seta */
            transform: translateX(-50%);
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left: 4px solid #3498db;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div class="bg-white p-8 rounded-lg shadow-xl max-w-2xl w-full">
        <h1 class="text-3xl font-bold text-gray-800 text-center mb-8">Hopy Pay: Sua Jornada do Cliente Otimizada</h1>
        <p class="text-center text-gray-600 mb-8">Um benef√≠cio gratuito da Hopy Pay para clientes e n√£o clientes, ajudando empresas a escalar com estrat√©gias de marketing.</p>

        <!-- Topo do Funil (ToFu) -->
        <div class="funnel-segment bg-blue-100 border-2 border-blue-400 rounded-lg p-6 mb-6 relative">
            <h2 class="text-xl font-bold text-blue-800 mb-2">TOPO DO FUNIL (ToFu)</h2>
            <p class="text-blue-700 text-sm mb-4">Consci√™ncia e Descoberta</p>
            <div class="flex items-center mb-2">
                <svg class="w-5 h-5 text-blue-600 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 10-2 0v2H7v2h5a1 1 0 00.95-1.11L14 10.5V9a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>
                <p class="text-gray-800 font-semibold">A√ß√µes do Usu√°rio:</p>
            </div>
            <ul class="list-disc list-inside text-gray-700 text-sm space-y-1 ml-6">
                <li>Visitou Home Page</li>
                <li>Visitou P√°ginas Gen√©ricas (ex: "Quem Somos", "Desenvolvimento")</li>
            </ul>
            <div class="flex items-center mt-4">
                <svg class="w-5 h-5 text-blue-600 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2V1a1 1 0 011-1h2a1 1 0 011 1v2h2a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 0h6v10H7V5z" clip-rule="evenodd"></path></svg>
                <p class="text-gray-800 font-semibold">Eventos de Medi√ß√£o:</p>
            </div>
            <ul class="list-disc list-inside text-gray-700 text-sm space-y-1 ml-6">
                <li><code class="font-mono bg-blue-200 px-1 rounded">PageView</code> (URLs gen√©ricas como <code class="font-mono bg-blue-200 px-1 rounded">/</code>, <code class="font-mono bg-blue-200 px-1 rounded">/quem-somos</code>, <code class="font-mono bg-blue-200 px-1 rounded">/desenvolvimento</code>)</li>
            </ul>

            <div class="mt-6 border-t border-blue-300 pt-4">
                <h3 class="text-lg font-bold text-blue-800 mb-2">Estrat√©gia de An√∫ncios (Instagram - Retargeting)</h3>
                <div class="mb-2">
                    <p class="font-semibold text-gray-700">Tipo de An√∫ncio:</p>
                    <ul class="list-disc list-inside text-gray-700 text-sm ml-4">
                        <li>**Meta Ads:** V√≠deos curtos (15-30s), carrossel de imagens com a proposta de valor.</li>
                        <li>**Google Display Network (GDN):** Banners responsivos com logo e slogan.</li>
                    </ul>
                </div>
                <div>
                    <p class="font-semibold text-gray-700">Conte√∫do do An√∫ncio:</p>
                    <ul class="list-disc list-inside text-gray-700 text-sm ml-4">
                        <li>**T√çTULO:** "Infraestrutura de Pagamentos White Label para o seu Neg√≥cio."</li>
                        <li>**CORPO:** "Hopy Pay: A solu√ß√£o ideal para ofertar pagamentos com a sua marca."</li>
                        <li>**CTAs:** "Conhe√ßa a Hopy Pay", "Descubra Nossas Solu√ß√µes".</li>
                        <li>**Objetivo:** Reconhecimento da marca e educa√ß√£o sobre o que a Hopy Pay faz.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="funnel-arrow"></div>

        <!-- Meio do Funil (MoFu) -->
        <div class="funnel-segment bg-yellow-100 border-2 border-yellow-400 rounded-lg p-6 mb-6 relative">
            <h2 class="text-xl font-bold text-yellow-800 mb-2">MEIO DO FUNIL (MoFu)</h2>
            <p class="text-yellow-700 text-sm mb-4">Considera√ß√£o e Interesse</p>
            <div class="flex items-center mb-2">
                <svg class="w-5 h-5 text-yellow-600 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8H6a2 2 0 00-2 2v1H1a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1v-1h.586l.33.33A8 8 0 108 4zm6.293 8.293a1 1 0 001.414 0L19 9.414V16a1 1 0 001 1h3a1 1 0 001-1v-3a1 1 0 00-1-1h-3.586l-.33-.33A8 8 0 0014.293 8.293z" clip-rule="evenodd"></path></svg>
                <p class="text-gray-800 font-semibold">A√ß√µes do Usu√°rio:</p>
            </div>
            <ul class="list-disc list-inside text-gray-700 text-sm space-y-1 ml-6">
                <li>Visitou P√°ginas de Solu√ß√£o Espec√≠fica (ex: HopySplit, HopyHub, HopyCheckout)</li>
                <li>Clicou em "Saiba Mais" ou rolou a p√°gina para ver detalhes</li>
                <li>Acessou Conte√∫dos Espec√≠ficos (ex: Integra√ß√µes detalhadas, artigos no blog)</li>
            </ul>
            <div class="flex items-center mt-4">
                <svg class="w-5 h-5 text-yellow-600 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2V1a1 1 0 011-1h2a1 1 0 011 1v2h2a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 0h6v10H7V5z" clip-rule="evenodd"></path></svg>
                <p class="text-gray-800 font-semibold">Eventos de Medi√ß√£o:</p>
            </div>
            <ul class="list-disc list-inside text-gray-700 text-sm space-y-1 ml-6">
                <li><code class="font-mono bg-yellow-200 px-1 rounded">ViewContent</code> (URLs espec√≠ficas como <code class="font-mono bg-yellow-200 px-1 rounded">/hopy-split</code>, <code class="font-mono bg-yellow-200 px-1 rounded">/integracoes</code>)</li>
                <li><code class="font-mono bg-yellow-200 px-1 rounded">Click</code> (em CTAs de aprofundamento)</li>
            </ul>

            <div class="mt-6 border-t border-yellow-300 pt-4">
                <h3 class="text-lg font-bold text-yellow-800 mb-2">Estrat√©gia de An√∫ncios (Instagram - Retargeting)</h3>
                <div class="mb-2">
                    <p class="font-semibold text-gray-700">Tipo de An√∫ncio:</p>
                    <ul class="list-disc list-inside text-gray-700 text-sm ml-4">
                        <li>**Meta Ads:** V√≠deos de demonstra√ß√£o (30-60s), carrossel com funcionalidades espec√≠ficas, Stories/Reels interativos (perguntas, enquetes).</li>
                        <li>**Google Display Network (GDN):** Banners focados na solu√ß√£o visitada.</li>
                    </ul>
                </div>
                <div>
                    <p class="font-semibold text-gray-700">Conte√∫do do An√∫ncio:</p>
                    <ul class="list-disc list-inside text-gray-700 text-sm ml-4">
                        <li>**T√çTULO (Ex. HopySplit):** "HopySplit: Seu Gateway White Label com Multi-Adquir√™ncia Inteligente!"</li>
                        <li>**CORPO:** "Reduza custos e crie novas receitas. Veja como o HopySplit transforma seus pagamentos. [Benef√≠cio/dor espec√≠fica da solu√ß√£o]"</li>
                        <li>**CTAs:** "Explore o HopySplit", "Veja as Vantagens", "Fazer uma Demonstra√ß√£o", "Baixe nosso E-book".</li>
                        <li>**Objetivo:** Aprofundar o interesse na solu√ß√£o espec√≠fica e resolver obje√ß√µes.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="funnel-arrow"></div>

        <!-- Fundo do Funil (BoFu) -->
        <div class="funnel-segment bg-green-100 border-2 border-green-400 rounded-lg p-6 relative">
            <h2 class="text-xl font-bold text-green-800 mb-2">FUNDO DO FUNIL (BoFu)</h2>
            <p class="text-green-700 text-sm mb-4">Decis√£o e Convers√£o</p>
            <div class="flex items-center mb-2">
                <svg class="w-5 h-5 text-green-600 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
                <p class="text-gray-800 font-semibold">A√ß√µes do Usu√°rio:</p>
            </div>
            <ul class="list-disc list-inside text-gray-700 text-sm space-y-1 ml-6">
                <li>Preencheu formul√°rio de contato (mas n√£o finalizou)</li>
                <li>Solicitou uma demonstra√ß√£o (mas n√£o confirmou)</li>
                <li>Visitou a p√°gina de confirma√ß√£o ap√≥s uma convers√£o (para nutri√ß√£o p√≥s-venda)</li>
            </ul>
            <div class="flex items-center mt-4">
                <svg class="w-5 h-5 text-green-600 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2V1a1 1 0 011-1h2a1 1 0 011 1v2h2a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 0h6v10H7V5z" clip-rule="evenodd"></path></svg>
                <p class="text-gray-800 font-semibold">Eventos de Medi√ß√£o:</p>
            </div>
            <ul class="list-disc list-inside text-gray-700 text-sm space-y-1 ml-6">
                <li><code class="font-mono bg-green-200 px-1 rounded">FormSubmit</code> (em formul√°rios de contato/demo)</li>
                <li><code class="font-mono bg-green-200 px-1 rounded">Thank You Page View</code> (URL da p√°gina de agradecimento)</li>
            </ul>

            <div class="mt-6 border-t border-green-300 pt-4">
                <h3 class="text-lg font-bold text-green-800 mb-2">Estrat√©gia de An√∫ncios (Instagram - Retargeting)</h3>
                <div class="mb-2">
                    <p class="font-semibold text-gray-700">Tipo de An√∫ncio:</p>
                    <ul class="list-disc list-inside text-gray-700 text-sm ml-4">
                        <li>**Meta Ads:** An√∫ncios com prova social (depoimentos), senso de urg√™ncia (se houver promo√ß√µes), diretos para WhatsApp/Formul√°rio.</li>
                        <li>**Google Search Ads:** An√∫ncios de texto para termos de marca ou relacionados √† finaliza√ß√£o de contato.</li>
                    </ul>
                </div>
                <div>
                    <p class="font-semibold text-gray-700">Conte√∫do do An√∫ncio:</p>
                    <ul class="list-disc list-inside text-gray-700 text-sm ml-4">
                        <li>**T√çTULO:** "Quase l√°! Transforme seus Pagamentos com Hopy Pay."</li>
                        <li>**CORPO:** "N√£o perca a chance de ter sua pr√≥pria infraestrutura de pagamentos. Agende sua Demonstra√ß√£o Gratuita Agora!"</li>
                        <li>**CTAs:** "Finalizar Agendamento", "Fale Conosco Agora", "Quero Minha Demo", "Agendar via WhatsApp".</li>
                        <li>**Objetivo:** Incentivar a conclus√£o da a√ß√£o de contato ou agendamento, superando a √∫ltima obje√ß√£o.</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Section: Hopy Pay - Benef√≠cio Gratuito -->
        <div class="text-center mt-12 p-6 bg-blue-50 border border-blue-200 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold text-blue-800 mb-4">üöÄ Hopy Pay: Seu Sucesso √© Nosso Neg√≥cio! üöÄ</h2>
            <p class="text-blue-700 mb-4">Esta ferramenta √© um **benef√≠cio gratuito** da Hopy Pay, feita para **clientes e n√£o clientes**, com o objetivo de **ajudar sua empresa a escalar e otimizar sua jornada do cliente** atrav√©s de estrat√©gias de marketing eficazes. Conte com a gente para impulsionar seus resultados!</p>
            <p class="text-blue-700 font-semibold">Gere suas copies e eleve seu marketing a um novo n√≠vel!</p>
        </div>


        <!-- New LLM Feature Section -->
        <div class="mt-12 p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md">
            <h2 class="text-2xl font-bold text-gray-800 text-center mb-6">‚ú® Gerador de Copy de Marketing com IA ‚ú®</h2>
            <p class="text-center text-gray-600 mb-6">Gere rapidamente t√≠tulos, corpo de texto e CTAs para suas campanhas!</p>

            <div class="space-y-4">
                <div>
                    <label for="apiKeyInput" class="block text-gray-700 text-sm font-semibold mb-2">Sua Chave de API Gemini:</label>
                    <input type="text" id="apiKeyInput" class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Cole sua chave de API aqui">
                    <p class="text-gray-500 text-xs mt-1">Obtenha sua chave em <a href="https://aistudio.google.com/" target="_blank" class="text-blue-500 hover:underline">Google AI Studio</a></p>
                </div>
                <div>
                    <label for="productDescription" class="block text-gray-700 text-sm font-semibold mb-2">Descri√ß√£o do Produto/Servi√ßo (da Hopy Pay):</label>
                    <textarea id="productDescription" class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" rows="3" placeholder="Ex: HopySplit, nosso gateway white label com multi-adquir√™ncia e split inteligente."></textarea>
                </div>

                <div>
                    <label for="targetAudience" class="block text-gray-700 text-sm font-semibold mb-2">P√∫blico-Alvo:</label>
                    <input type="text" id="targetAudience" class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Ex: Donos de e-commerce, diretores de fintech, marketplaces.">
                </div>

                <div>
                    <label for="funnelStage" class="block text-gray-700 text-sm font-semibold mb-2">Etapa do Funil:</label>
                    <select id="funnelStage" class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="ToFu">Topo do Funil (Consci√™ncia)</option>
                        <option value="MoFu">Meio do Funil (Considera√ß√£o)</option>
                        <option value="BoFu">Fundo do Funil (Decis√£o)</option>
                    </select>
                </div>

                <div class="flex space-x-4 mt-4">
                    <button id="generateCopyBtn" class="flex-1 bg-blue-600 text-white font-bold p-3 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 flex items-center justify-center">
                        <span id="buttonText">Gerar Copy de Marketing ‚ú®</span>
                        <div id="loadingSpinner" class="loading-spinner ml-3 hidden"></div>
                    </button>
                    <button id="resetBtn" class="flex-1 bg-gray-300 text-gray-800 font-bold p-3 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50">
                        Refazer
                    </button>
                </div>

                <div id="copyOutput" class="mt-6 hidden">
                    <!-- Generated copies will be displayed here -->
                </div>
                <div id="errorMessage" class="mt-4 text-red-600 text-sm hidden">
                    <!-- Error messages will be displayed here -->
                </div>
                
                <div id="recommendations" class="mt-6 p-4 bg-purple-50 border border-purple-200 rounded-md text-gray-800 text-sm hidden">
                    <h3 class="text-lg font-bold text-purple-800 mb-2">üí° Recomenda√ß√µes e Dicas de Marketing:</h3>
                    <ul class="list-disc list-inside space-y-2">
                        <!-- Recommendations will be injected here -->
                    </ul>
                </div>

                <div id="generalResources" class="mt-6 p-4 bg-gray-100 border border-gray-300 rounded-md text-gray-800 text-sm hidden">
                    <h3 class="text-lg font-bold text-gray-800 mb-2">üìö Ferramentas e Recursos Adicionais:</h3>
                    <ul class="list-disc list-inside space-y-2">
                        <!-- Dynamic resources will be injected here -->
                    </ul>
                </div>
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const generateCopyBtn = document.getElementById('generateCopyBtn');
            const resetBtn = document.getElementById('resetBtn');
            const apiKeyInput = document.getElementById('apiKeyInput');
            const productDescription = document.getElementById('productDescription');
            const targetAudience = document.getElementById('targetAudience');
            const funnelStage = document.getElementById('funnelStage');
            const copyOutput = document.getElementById('copyOutput');
            const errorMessage = document.getElementById('errorMessage');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const buttonText = document.getElementById('buttonText');
            const recommendationsDiv = document.getElementById('recommendations');
            const recommendationsList = recommendationsDiv.querySelector('ul');
            const generalResourcesDiv = document.getElementById('generalResources');
            const generalResourcesList = generalResourcesDiv.querySelector('ul');

            const recommendations = {
                ToFu: [
                    "**Para Instagram (Org√¢nico/Tr√°fego Pago):** Crie Reels curtos e chamativos com 'ganchos' que despertem a curiosidade sobre 'pagamentos inteligentes'. Use carross√©is com 'Voc√™ sabia...?'",
                    "**Dica de Conte√∫do:** Conte√∫do educativo e de f√°cil consumo. Pense em 'micro-aulas' sobre o mercado de pagamentos ou problemas comuns que a Hopy Pay resolve. Mantenha a copy leve e intrigante.",
                    "**CTAs no Instagram:** 'Saiba Mais no Link da Bio', 'Explore nosso Perfil', 'Deslize para ver mais (Carrossel)', 'Assista ao Reel Completo'."
                ],
                MoFu: [
                    "**Para Instagram (Retargeting):** Use Stories/Reels com demonstra√ß√µes r√°pidas do produto ou depoimentos de clientes sobre os benef√≠cios espec√≠ficos (ex: HopySplit). Invista em 'arrasta para cima' para landing pages de solu√ß√µes.",
                    "**Dica de Conte√∫do:** Foque em resolver dores espec√≠ficas do p√∫blico. Apresente features do HopySplit, HopyHub ou HopyCheckout e mostre como elas se traduzem em resultados (ex: 'redu√ß√£o de custos', 'nova fonte de receita').",
                    "**CTAs no Instagram:** 'Explore o HopySplit', 'Veja o HopyHub em A√ß√£o', 'Baixe o Guia Gratuito', 'Fale com um Especialista via Direct'."
                ],
                BoFu: [
                    "**Para Instagram (Retargeting de Alta Inten√ß√£o):** An√∫ncios no Feed ou Stories com senso de urg√™ncia (se aplic√°vel), provas sociais fortes e CTAs diretos para agendamento/contato. Use o bot√£o de WhatsApp direto nos an√∫ncios do Meta.",
                    "**Dica de Conte√∫do:** Utilize depoimentos de clientes com cases de sucesso (n√∫meros e resultados). Reforce a credibilidade da Hopy Pay (R$ 4 bilh√µes em volume, 125 mil clientes). A copy deve ser a mais persuasiva poss√≠vel, focando no 'porqu√™ agir agora'.",
                    "**CTAs no Instagram:** 'Agende Sua Demo', 'Quero Transformar Meus Pagamentos', 'Fale Agora no WhatsApp', 'Preencha o Formul√°rio'."
                ]
            };

            const dynamicResources = {
                ToFu: [
                    // Set 1 for ToFu
                    [
                        {
                            category: "Cria√ß√£o de Conte√∫do para Redes Sociais",
                            items: [
                                { name: "Canva", link: "https://www.canva.com/", description: "Design gr√°fico simplificado para posts e stories." },
                                { name: "CapCut", link: "https://www.capcut.com/", description: "Edi√ß√£o de v√≠deo para Reels e Stories impactantes." },
                                { name: "Unsplash/Pexels", link: "https://unsplash.com/", description: "Bancos de imagens gratuitas de alta qualidade." }
                            ]
                        },
                        {
                            category: "Programa√ß√£o e An√°lise de Redes Sociais",
                            items: [
                                { name: "Later/Buffer", link: "https://later.com/", description: "Ferramentas para agendamento de posts no Instagram." },
                                { name: "Instagram Insights (Nat√≠vo)", description: "M√©tricas b√°sicas de desempenho de conte√∫do." }
                            ]
                        },
                        {
                            category: "Livros e Blogs de Reconhecimento",
                            items: [
                                { name: "Marketing de Conte√∫do para o Instagram", link: "https://www.amazon.com.br/marketing-de-conteudo-para-instagram-ebook/dp/B0CKD81W62", description: "Guia completo para estrat√©gias de conte√∫do visual." },
                                { name: "Social Media Examiner", link: "https://www.socialmediaexaminer.com/", description: "Blog com as √∫ltimas tend√™ncias de m√≠dias sociais." }
                            ]
                        }
                    ],
                    // Set 2 for ToFu (varied)
                    [
                        {
                            category: "Ferramentas de Design e Edi√ß√£o",
                            items: [
                                { name: "Figma", link: "https://www.figma.com/", description: "Ferramenta colaborativa para design de interfaces e gr√°ficos." },
                                { name: "InShot", link: "https://inshot.com/", description: "App de edi√ß√£o de v√≠deo mobile para conte√∫do r√°pido." }
                            ]
                        },
                        {
                            category: "Estrat√©gia de Marketing Digital",
                            items: [
                                { name: "Neil Patel Brasil", link: "https://neilpatel.com/br/blog/", description: "Dicas de SEO e marketing de conte√∫do." },
                                { name: "Blog da Rock Content", link: "https://rockcontent.com/br/blog/", description: "Conte√∫do focado em marketing de conte√∫do e inbound." }
                            ]
                        },
                        {
                            category: "Livros e Conceitos Fundamentais",
                            items: [
                                { name: "A Vaca Roxa", link: "https://www.amazon.com.br/Vaca-Roxa-Se-diferencie-Mercado/dp/8575221085", description: "Por Seth Godin, sobre se destacar no mercado." },
                                { name: "Inbound Marketing", link: "https://www.amazon.com.br/Inbound-Marketing-atrair-conquistar-clientes/dp/8550800360", description: "Livro fundamental para estrat√©gias de atra√ß√£o." }
                            ]
                        }
                    ]
                ],
                MoFu: [
                    // Set 1 for MoFu
                    [
                        {
                            category: "Otimiza√ß√£o de Landing Pages",
                            items: [
                                { name: "Unbounce/Leadpages", link: "https://unbounce.com/", description: "Cria√ß√£o e otimiza√ß√£o de p√°ginas de captura de leads." },
                                { name: "Google Optimize (agora via Google Analytics 4)", link: "https://support.google.com/optimize/", description: "Ferramenta para testes A/B em p√°ginas." }
                            ]
                        },
                        {
                            category: "Automa√ß√£o de Marketing e CRM",
                            items: [
                                { name: "RD Station Marketing", link: "https://rdstation.com/marketing/", description: "Automa√ß√£o de e-mail marketing e nutri√ß√£o de leads." },
                                { name: "HubSpot CRM (vers√£o gratuita)", link: "https://www.hubspot.com/products/crm", description: "Gest√£o de relacionamento com leads e clientes." }
                            ]
                        },
                        {
                            category: "Conte√∫do Interativo para Engajamento",
                            items: [
                                { name: "Typeform", link: "https://www.typeform.com/", description: "Cria√ß√£o de formul√°rios interativos e quizzes." },
                                { name: "E-books e Webinars (Hopy Pay)", description: "Materiais ricos para aprofundar o interesse do lead." }
                            ]
                        },
                        {
                            category: "Livros e Blogs de Considera√ß√£o",
                            items: [
                                { name: "Contagioso: Como fazer as coisas pegarem", link: "https://www.amazon.com.br/Contagioso-Como-fazer-coisas-pegarem/dp/8580575304", description: "Entenda o que torna o conte√∫do viral e engajador." },
                                { name: "Hotmart Blog", link: "https://blog.hotmart.com/pt-br/", description: "Dicas de funil de vendas e infoprodutos." }
                            ]
                        }
                    ],
                    // Set 2 for MoFu (varied)
                    [
                        {
                            category: "An√°lise de Funil e Jornada",
                            items: [
                                { name: "Mixpanel", link: "https://mixpanel.com/", description: "An√°lise de comportamento do usu√°rio e funis de convers√£o." },
                                { name: "Amplitude", link: "https://amplitude.com/", description: "Plataforma de intelig√™ncia de produto e an√°lise de usu√°rios." }
                            ]
                        },
                        {
                            category: "Ferramentas de E-mail Marketing",
                            items: [
                                { name: "Mailchimp", link: "https://mailchimp.com/", description: "Plataforma popular para campanhas de e-mail marketing." },
                                { name: "ActiveCampaign", link: "https://www.activecampaign.com/", description: "Automa√ß√£o avan√ßada e CRM para nutri√ß√£o." }
                            ]
                        },
                        {
                            category: "Livros e Conceitos de Nutri√ß√£o",
                            items: [
                                { name: "Marketing 4.0", link: "https://www.amazon.com.br/Marketing-4-0-Philip-Kotler/dp/8543104646", description: "Sobre a transi√ß√£o do marketing tradicional para o digital." },
                                { name: "As Armas da Persuas√£o", link: "https://www.amazon.com.br/Armas-Persuas%C3%A3o-Robert-Cialdini/dp/8575221085", description: "Entenda os princ√≠pios da influ√™ncia e persuas√£o." }
                            ]
                        }
                    ]
                ],
                BoFu: [
                    // Set 1 for BoFu
                    [
                        {
                            category: "Ferramentas de Convers√£o Direta",
                            items: [
                                { name: "WhatsApp Business API", link: "https://developers.facebook.com/docs/whatsapp/api/", description: "Comunica√ß√£o direta e automatizada com leads qualificados." },
                                { name: "Chatbots para Site", link: "https://www.zendesk.com/service/conversational-ai/chatbot/", description: "Automa√ß√£o de atendimento para qualifica√ß√£o e agendamento." },
                                { name: "Calendly/Acuity Scheduling", link: "https://calendly.com/", description: "Ferramentas para agendamento de demonstra√ß√µes." }
                            ]
                        },
                        {
                            category: "Otimiza√ß√£o de Taxa de Convers√£o (CRO)",
                            items: [
                                { name: "Hotjar", link: "https://www.hotjar.com/", description: "Mapas de calor e grava√ß√µes de sess√£o para entender o comportamento do usu√°rio." },
                                { name: "Google Analytics 4 (GA4)", description: "An√°lise aprofundada de eventos de convers√£o e jornadas." }
                            ]
                        },
                        {
                            category: "Provas Sociais e Cases de Sucesso",
                            items: [
                                { name: "Hopy Pay Clientes & Cases", link: "https://www.hopypay.com.br/quem-somos", description: "P√°gina de depoimentos e cases da Hopy Pay." }
                            ]
                        },
                        {
                            category: "Livros e Blogs de Vendas/Convers√£o",
                            items: [
                                { name: "Receita Previs√≠vel" , link: "https://www.amazon.com.br/Receita-Previs%C3%ADvel-empresas-dobrarem-resultados/dp/8582890288", description: "Livro por Aaron Ross sobre escalar vendas." },
                                { name: "Spin Selling" , link: "https://www.amazon.com.br/Spin-Selling-Neil-Rackham/dp/8575225102", description: "Livro por Neil Rackham sobre t√©cnicas de venda." }
                            ]
                        }
                    ],
                    // Set 2 for BoFu (varied)
                    [
                        {
                            category: "Plataformas de An√∫ncios e Retargeting",
                            items: [
                                { name: "Google Ads", link: "https://ads.google.com/", description: "Cria√ß√£o de campanhas de pesquisa e display." },
                                { name: "Meta Ads (Facebook/Instagram)", link: "https://business.facebook.com/", description: "Gerenciamento de an√∫ncios em redes sociais." }
                            ]
                        },
                        {
                            category: "Automa√ß√£o de Vendas",
                            items: [
                                { name: "Salesforce Sales Cloud", link: "https://www.salesforce.com/br/products/sales-cloud/overview/", description: "Plataforma CRM robusta para gest√£o de vendas." },
                                { name: "Pipedrive", link: "https://www.pipedrive.com/pt", description: "CRM focado em funil de vendas e automa√ß√£o." }
                            ]
                        },
                        {
                            category: "Livros e T√°ticas de Fechamento",
                            items: [
                                { name: "A Estrat√©gia do Oceano Azul", link: "https://www.amazon.com.br/Estrategia-do-Oceano-Azul-Competir/dp/8535218764", description: "Sobre como criar novos espa√ßos de mercado." },
                                { name: "Marketing de Permiss√£o", link: "https://www.amazon.com.br/Marketing-Permiss%C3%A3o-Seth-Godin/dp/8575220453", description: "Conceitos sobre o marketing que gera engajamento volunt√°rio." }
                            ]
                        },
                        {
                            category: "An√°lise de ROI e Performance",
                            items: [
                                { name: "Supermetrics", link: "https://supermetrics.com/", description: "Conecta dados de marketing em uma √∫nica plataforma para an√°lise." }
                            ]
                        }
                    ]
                ]
            };


            function displayRecommendations(stage) {
                recommendationsList.innerHTML = ''; // Clear previous recommendations
                const generalTips = recommendations[stage];
                generalTips.forEach(tip => {
                    const li = document.createElement('li');
                    li.innerHTML = tip; // Use innerHTML to allow for bold tags and other formatting if needed
                    recommendationsList.appendChild(li);
                });
                recommendationsDiv.classList.remove('hidden');
            }

            function displayDynamicResources(stage) {
                generalResourcesList.innerHTML = ''; // Clear previous resources
                const stageResources = dynamicResources[stage];
                // Randomly select one set of resources for the current stage
                const randomIndex = Math.floor(Math.random() * stageResources.length);
                const selectedResources = stageResources[randomIndex];

                selectedResources.forEach(resourceCategory => {
                    const categoryHeader = document.createElement('h4');
                    categoryHeader.className = 'font-semibold text-gray-700 mt-3 mb-1';
                    categoryHeader.textContent = resourceCategory.category + ':';
                    generalResourcesList.appendChild(categoryHeader);

                    const categoryList = document.createElement('ul');
                    categoryList.className = 'list-disc list-inside ml-4 space-y-1';

                    resourceCategory.items.forEach(item => {
                        const li = document.createElement('li');
                        if (item.link) {
                            li.innerHTML = `<a href="${item.link}" target="_blank" class="text-blue-500 hover:underline">${item.name}</a>: ${item.description}`;
                        } else {
                            li.textContent = `${item.name}: ${item.description}`;
                        }
                        categoryList.appendChild(li);
                    });
                    generalResourcesList.appendChild(categoryList);
                });
                generalResourcesDiv.classList.remove('hidden'); // Ensure it's hidden before showing if there are no items
                if (selectedResources.length > 0) {
                    generalResourcesDiv.classList.remove('hidden');
                }
            }

            function clearResults() {
                copyOutput.innerHTML = '';
                copyOutput.classList.add('hidden');
                errorMessage.classList.add('hidden');
                recommendationsDiv.classList.add('hidden');
                recommendationsList.innerHTML = '';
                generalResourcesDiv.classList.add('hidden'); // Hide dynamic resources on clear
                generalResourcesList.innerHTML = '';
            }

            resetBtn.addEventListener('click', clearResults);

            generateCopyBtn.addEventListener('click', async () => {
                const apiKey = apiKeyInput.value.trim();
                const prodDesc = productDescription.value.trim();
                const targetAud = targetAudience.value.trim();
                const stage = funnelStage.value;

                clearResults(); // Clear previous results on new generation attempt

                if (!apiKey) {
                    errorMessage.textContent = 'Por favor, insira sua chave de API Gemini.';
                    errorMessage.classList.remove('hidden');
                    return;
                }

                if (!prodDesc || !targetAud) {
                    errorMessage.textContent = 'Por favor, preencha a descri√ß√£o do produto/servi√ßo e o p√∫blico-alvo.';
                    errorMessage.classList.remove('hidden');
                    return;
                }

                loadingSpinner.classList.remove('hidden');
                buttonText.textContent = 'Gerando...';
                generateCopyBtn.disabled = true;
                resetBtn.disabled = true; // Disable reset button during generation

                try {
                    // Updated prompt to focus on Instagram specifics
                    const prompt = `Gere 5 varia√ß√µes de copy de marketing focadas para Instagram, para a etapa do funil ${stage} para o produto/servi√ßo: '${prodDesc}', visando o p√∫blico: '${targetAud}'. Para cada varia√ß√£o, inclua um T√çTULO, um CORPO de texto conciso (mencionando se √© para Feed, Stories ou Reels) e 3 sugest√µes de CTA (incluindo op√ß√µes como 'Link na Bio' ou 'Arrasta para Cima'). Separe cada varia√ß√£o com '---VARIA√á√ÉO---'.`;

                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                    const payload = {
                        contents: chatHistory
                    };

                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(`Erro na API: ${errorData.error.message || response.statusText}`);
                    }

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const rawText = result.candidates[0].content.parts[0].text;
                        const variations = rawText.split('---VARIA√á√ÉO---').filter(v => v.trim() !== '');
                        
                        if (variations.length > 0) {
                            copyOutput.innerHTML = ''; // Clear previous content
                            variations.forEach((variation, index) => {
                                const section = document.createElement('div');
                                section.className = 'p-3 bg-white border border-gray-200 rounded-md mb-4';
                                section.innerHTML = `<h4 class="font-bold text-md text-gray-700 mb-2">Varia√ß√£o ${index + 1}:</h4><div class="text-gray-600 text-sm">${variation.trim().replace(/\n/g, '<br>')}</div>`;
                                copyOutput.appendChild(section);
                            });
                            copyOutput.classList.remove('hidden');
                            displayRecommendations(stage); // Display recommendations after copies
                            displayDynamicResources(stage); // Display dynamic resources based on stage
                        } else {
                            throw new Error('Nenhuma varia√ß√£o de copy foi gerada. Tente ajustar a descri√ß√£o.');
                        }
                    } else {
                        throw new Error('Estrutura de resposta da API inesperada ou conte√∫do vazio.');
                    }

                } catch (error) {
                    console.error('Erro ao chamar a API Gemini:', error);
                    errorMessage.textContent = `Ocorreu um erro ao gerar a copy: ${error.message}. Verifique sua chave de API e tente novamente.`;
                    errorMessage.classList.remove('hidden');
                } finally {
                    loadingSpinner.classList.add('hidden');
                    buttonText.textContent = 'Gerar Copy de Marketing ‚ú®';
                    generateCopyBtn.disabled = false;
                    resetBtn.disabled = false; // Enable reset button after generation
                }
            });
        });
    </script>
</body>
</html>
